<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Javascript generator</title>
</head>
<body>
    <script>
        // 參考MDN
        // https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Statements/function*

        function* gen(){
            // yield 每一個階段，會包成物件
            // { done: true/false, value: 2}
            yield 2;
            yield 5;
            yield 7;
        }
        const g = gen();
        console.log('g:', g);
        console.log('first time:', g.next());
        console.log('second time:', g.next());
        console.log('third time:', g.next());
        console.log('fourth time:', g.next());

        // 呼叫 g  ans. g 的物件
        // 第一次呼叫 g.next()  {done:false, value:2}  false代表後面還有yield，還沒結束
        // 第二次呼叫 g.next()  {done:false, value:5}
        // 第三次呼叫 g.next()  {done:true, value:7}
        
        const ar = [1,3,5]
        console.log([...ar]);

        // iterator 迭代器, iterable 可迭代的(陣列本身可迭代)
        // 可用for of 或是 foreach 跑
        ar[Symbol.iterator] = gen;
        console.log([...ar]);
        for(let i of ar){
            console.log(i);
        }

    </script>
</body>
</html>